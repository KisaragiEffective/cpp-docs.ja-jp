---
title: 入力出力の処理に関する推奨事項
ms.date: 11/04/2016
helpviewer_keywords:
- I/O [MFC], about I/O
- file-based I/O options
- I/O [MFC]
- I/O [MFC], options
- I/O [MFC], file-based options
ms.assetid: d664b175-3b4a-40c3-b14b-39de6b12e419
ms.openlocfilehash: 956a92fd1761f61081afa2eb9c6cb35fe72b46d6
ms.sourcegitcommit: 63784729604aaf526de21f6c6b62813882af930a
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/17/2020
ms.locfileid: "79446900"
---
# <a name="recommendations-for-handling-inputoutput"></a>入出力処理の推奨事項

ファイルベースの i/o を使用するかどうかは、次のデシジョンツリーの質問にどのように対応するかによって異なります。

**アプリケーションのプライマリデータがディスクファイルに存在するか**

- はい。プライマリデータはディスクファイルに格納されています。

     **アプリケーションがファイル全体を開いているファイルのメモリに読み込み、ファイル全体をファイル保存時にディスクに書き戻すようにします。**

   - [はい] : これは、既定で MFC のドキュメントです。 `CDocument` シリアル化を使用します。

   - いいえ。これは、通常、ファイルのトランザクションベースの更新の場合です。 ファイルはトランザクションごとに更新するので、`CDocument` シリアル化は必要ありません。

- いいえ、プライマリデータがディスクファイルに存在しません。

     **データが ODBC データソースに存在するか**

   - はい、データは ODBC データソースに格納されています。

      MFC のデータベースサポートを使用します。 この場合の MFC の標準的な実装には、「 [mfc: ドキュメントおよびビューでのデータベースクラスの使用](../data/mfc-using-database-classes-with-documents-and-views.md)」で説明されているように、`CDatabase` オブジェクトが含まれています。 アプリケーションでは、アプリケーションウィザードの "データベースビューとファイルサポートの両方" オプションの代わりに、補助ファイルの読み取りと書き込みを行うこともできます。 この場合は、補助ファイルにシリアル化を使用します。

   - いいえ。データは ODBC データソースには存在しません。

      この例では、データは ODBC 以外の DBMS に存在します。データは、OLE や DDE などの他のメカニズムを使用して読み取られます。

      このような場合、シリアル化は使用されず、アプリケーションにはメニュー項目の [開く] と [保存] がありません。 MFC ODBC アプリケーションでドキュメントを使用して `CRecordset` オブジェクトを格納するのと同じように、`CDocument` をホームベースとして使用することもできます。 ただし、フレームワークの既定のファイルオープン/保存ドキュメントのシリアル化は使用しません。

[ファイル] メニューの [開く]、[保存]、[名前を付けて保存] コマンドをサポートするために、フレームワークにはドキュメントのシリアル化が用意されています。 シリアル化は、クラス `CObject`から派生したオブジェクトを含むデータを、永続ストレージ (通常はディスクファイル) に読み書きします。 シリアル化は使いやすく、多くのニーズに対応していますが、多くのデータアクセスアプリケーションでは不適切な場合があります。 通常、データアクセスアプリケーションはトランザクションごとにデータを更新します。 データファイル全体を一度に読み取り、書き込みするのではなく、トランザクションによって影響を受けたレコードを更新します。

シリアル化の詳細については、「[シリアル化](../mfc/serialization-in-mfc.md)」を参照してください。

## <a name="see-also"></a>参照

[シリアル化: シリアル化とデータベースの入力/出力](../mfc/serialization-serialization-vs-database-input-output.md)
